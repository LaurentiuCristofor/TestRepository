<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>How this ebook was edited</title>
  <link href="../styles/stylesheet.css" rel="stylesheet" type="text/css"/>
</head>

<body>
  <h1 id="images">Including images</h1>

  <p>Including images is made somewhat easy using the Calibre editor, but you will need to add some more attributes to obtain the best result. This ebook includes a sample image called <i>sample.jpg</i> that we will use to experiment with the different ways of including an image.</p>
  
  <p>If we use the <u>Insert image</u> functionality and then select our sample file, the result will be the following:</p>
  
  <img alt="Image" src="../images/sample.jpg" />
      
  <p>This is not bad because our style file already has some code to get us properly started here, but it would be nice to also add a caption and to ensure that the caption doesn't get split from its image by a page break. To achieve this, we'll use the <code>&lt;caption&gt;</code> tag to bundle the <code>&lt;img&gt;</code> tag with a <code>&lt;figcaption&gt;</code> tag and we'll rely on a CSS command that will require avoiding the splitting of this bundle.</p>

  <p>A perceptive reader might have noticed the <code>alt="Image"</code> attribute of the <code>&lt;img&gt;</code> tag. This attribute defines an "alternative" text that gets displayed if the image cannot be loaded, but it can also be used for accessibility features, so it can help to make it descriptive as well.</p>
  
  <p>We will also make our image description link to our image index in the <i>toc.xhtml</i> file, just to demonstrate how we can implement back-and-forth navigation between the image index and each image.</p>
  
  <p>The result of all these changes is included below:</p>

  <figure id="img_1">
    <img src="../images/sample.jpg" alt="A sample image" />
    <figcaption><a href="toc.xhtml#img_1">Fig.1</a> - A sample image.</figcaption>
  </figure>  
        
  <p>This last image looks more like how we should want to display our images in an ebook. Unfortunately, during my testing, I saw that the caption could still be separated from the image by a line break, so using <code>break-inside: avoid;</code> doesn't seem to be bulletproof.</p>
                  
</body>
</html>
